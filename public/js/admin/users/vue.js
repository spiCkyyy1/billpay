!function(e){var s={};function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,s,t){r.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,s){if(1&s&&(e=r(e)),8&s)return e;if(4&s&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var a in e)r.d(t,a,function(s){return e[s]}.bind(null,a));return t},r.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(s,"a",s),s},r.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},r.p="/",r(r.s=185)}({185:function(e,s,r){e.exports=r(186)},186:function(e,s){new Vue({el:"#users_container",data:{dataLoaded:!1,isBusy:!1,processing:!1,fullscreen:!1,timer:"",fields:[{key:"id",label:"ID"},"name","email","Roles","Actions"],getUsersUrl:App_url+"/all",createUserUrl:App_url+"/create",deleteUserUrl:App_url+"/delete",editUserUrl:App_url+"/get",updateUserUrl:App_url+"/update",getRolesUrl:App_url+"/roles/all",userId:"",userName:"",userEmail:"",userPassword:"",userConfirmPw:"",errorMessages:[],errorMessage:"",successMessage:"",users:[],roles:[],selectdRoles:[],alreadySelectedRoles:[],usersTable:{searchQuery:"",searching:!1},orderBy:"DESC",userMeta:{}},mounted:function(){this.applyUserFilter(),this.getRoles()},watch:{"userMeta.current_page":function(e){this.loadusersPaginatedData()}},methods:{toggle:function(){this.$refs.fullscreen.toggle()},fullscreenChange:function(e){this.fullscreen=e},loadusersPaginatedData:function(){this.applyUserFilter(this.getUsersUrl+"?page="+this.userMeta.current_page)},getOrderByResult:function(e){this.orderBy=e,this.applyUserFilter(!1)},resetFilter:function(){this.usersTable.searchQuery="",this.applyUserFilter()},applyUserFilter:function(){var e=this,s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.processing=!0,this.isBusy=!0,0==s&&(s=this.getUsersUrl),axios.post(s,{SearchQuery:this.usersTable.searchQuery,orderBy:this.orderBy}).then((function(s){s&&"Success"==s.data.msg&&(e.users=s.data.data,e.userMeta=s.data.meta,e.processing=!1,e.isBusy=!1)})).catch((function(s){e.processing=!1,e.isBusy=!1}))},getRoles:function(){var e=this;axios.get(this.getRolesUrl).then((function(s){s&&(e.roles=s.data.data)}))},showAddModal:function(){$("#addUserModal").modal("show"),this.userName="",this.userEmail="",this.userPassword="",this.userConfirmPw="",this.selectdRoles=[],this.successMessage="",this.errorMessage="",this.errorMessages=[]},createUser:function(){var e=this;this.processing=!0,axios.post(this.createUserUrl,{name:this.userName,email:this.userEmail,password:this.userPassword,password_confirmation:this.userConfirmPw,selectdRoles:this.selectdRoles}).then((function(s){s&&(e.processing=!1,"User created successfully!"==s.data.msg&&(e.errorMessages=[],e.successMessage="",e.successMessage=s.data.msg,e.userName="",e.userEmail="",e.userPassword="",e.userConfirmPw="",e.selectdRoles=[],e.applyUserFilter(!1),setTimeout((function(){this.successMessage="",$("#addUserModal").modal("hide")}),1e3)),219==s.data.code&&(e.errorMessages=[],e.errorMessages=s.data.data))}))},editUser:function(e){var s=this;this.userId=e,this.errorMessages=[],axios.post(this.editUserUrl,{userId:e}).then((function(e){e&&"Success"==e.data.msg&&(s.userName=e.data.userWithRole.name,s.userEmail=e.data.userWithRole.email,s.userPassword="",s.userConfirmPw="",s.successMessage="",s.selectdRoles=e.data.userWithRole.roles,$("#editUserModal").modal("show"),s.alreadySelectedRoles=e.data.roles)}))},updateUser:function(){var e=this;this.processing=!0,axios.post(this.updateUserUrl,{userId:this.userId,name:this.userName,email:this.userEmail,password:this.userPassword,password_confirmation:this.userConfirmPw,selectdRoles:this.selectdRoles}).then((function(s){s&&(e.processing=!1,"User updated successfully."==s.data.msg&&(e.errorMessages=[],e.successMessage="",e.successMessage=s.data.msg,e.userName="",e.userEmail="",e.userPassword="",e.userConfirmPw="",e.selectdRoles=[],e.applyUserFilter(!1),setTimeout((function(){this.successMessage="",$("#editUserModal").modal("hide")}),1e3)),219==s.data.code&&(e.errorMessages=[],e.errorMessages=s.data.data))}))},deleteUser:function(e){var s=this;Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(r){r.value&&axios.post(s.deleteUserUrl,{userId:e}).then((function(e){e&&"User removed successfully."==e.data.msg&&s.applyUserFilter(!1)}))}))},userFiltered:function(e){this.userMeta.totalRows=e.length,this.userMeta.currentPage=1}}})}});